"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validatePaymentPayload=exports.validateTokenPayload=void 0;var requiredTokenFields=["number","exp_month","exp_year","cvc"],requiredPaymentFields=["amount","currency","source"];function isObject(a){return!!a&&a.constructor===Object}function validatePayload(a){return isObject(a)?a.hasOwnProperty("data")?a.data.hasOwnProperty("attributes")?{valid:!0}:{valid:!1,message:"Invalid payload. Missing 'data.attributes' property."}:{valid:!1,message:"Invalid payload. Missing 'data' property."}:{valid:!1,message:"Data must be an Object."}}var validateTokenPayload=function(a){var b=validatePayload(a);return b.valid?(requiredTokenFields.forEach(function(b){if(!a.data.attributes.hasOwnProperty(b))throw new Error("Invalid payload. Missing 'data.attributes.".concat(b,"' property."))}),{valid:!0}):b};exports.validateTokenPayload=validateTokenPayload;var validatePaymentPayload=function(a){var b=validatePayload(a);return b.valid?(requiredPaymentFields.forEach(function(b){if(!a.data.attributes.hasOwnProperty(b)||"source"===b)if("source"===b&&a.data.attributes.source){if(!a.data.attributes.source.hasOwnProperty("id"))throw new Error("Invalid payload. Missing 'data.attributes.".concat(b,".id' property."));if(!a.data.attributes.source.hasOwnProperty("type"))throw new Error("Invalid payload. Missing 'data.attributes.".concat(b,".type' property."))}else throw new Error("Invalid payload. Missing 'data.attributes.".concat(b,"' property."))}),{valid:!0}):b};exports.validatePaymentPayload=validatePaymentPayload;